{"version":3,"sources":["index.js"],"names":["initDOM","h","addNode","removeNode","changeNode","type","props","_len","arguments","length","children","Array","_key","createElement","node","document","createTextNode","$el","map","forEach","appendChild","bind","updateElement","$parent","newNode","oldNode","node1","node2","index","undefined","newLength","oldLength","i","childNodes","replaceChild","removeChild","rootElement","getElementById","buttons","initNodeButton","innerText","addEventListener","addNodeButton","removeNodeButton","changeNodeButton"],"mappings":"uGACA,IAAMA,EACJC,EAAA,WACEA,EAAA,mBACAA,EAAA,UACEA,EAAA,gCAKAC,EACJD,EAAA,WACEA,EAAA,mBACAA,EAAA,UACEA,EAAA,+BAEFA,EAAA,kBAIEE,EACJF,EAAA,WACEA,EAAA,mBACAA,EAAA,UACEA,EAAA,gCAKAG,EACJH,EAAA,WACEA,EAAA,gBACAA,EAAA,UACEA,EAAA,gCAKN,SAASA,EAAEI,EAAMC,GAAoB,QAAAC,EAAAC,UAAAC,OAAVC,EAAU,IAAAC,MAAAJ,EAAA,EAAAA,EAAA,KAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAVF,EAAUE,EAAA,GAAAJ,UAAAI,GACnC,MAAO,CAAEP,OAAMC,QAAOI,YAGxB,SAASG,EAAcC,GACrB,GAAoB,kBAATA,EACT,OAAOC,SAASC,eAAeF,GAEjC,IAAMG,EAAMF,SAASF,cAAcC,EAAKT,MAExC,OADAS,EAAKJ,SAASQ,IAAIL,GAAeM,QAAQF,EAAIG,YAAYC,KAAKJ,IACvDA,EAST,SAASK,EAAcC,EAASC,EAASC,GAAoB,IAN5CC,EAAOC,EAM0BC,EAAWpB,UAAAC,OAAA,QAAAoB,IAAArB,UAAA,GAAAA,UAAA,GAAH,EACxD,GAAKiB,EAIE,GAAKD,EAML,UAjBQE,EAiBIF,YAjBGG,EAiBMF,IAfJ,kBAAVC,GAAwBA,IAAUC,GACzCD,EAAMrB,OAASsB,EAAMtB,MAmBrB,GAAImB,EAAQnB,KAGjB,IAFA,IAAMyB,EAAYN,EAAQd,SAASD,OAC7BsB,EAAYN,EAAQf,SAASD,OAC1BuB,EAAI,EAAGA,EAAIF,GAAaE,EAAID,EAAWC,IAC9CV,EACEC,EAAQU,WAAWL,GACnBJ,EAAQd,SAASsB,GACjBP,EAAQf,SAASsB,GACjBA,QAZJT,EAAQW,aACNrB,EAAcW,GACdD,EAAQU,WAAWL,SARlBL,EAAQU,WAAWL,IACpBL,EAAQY,YACNZ,EAAQU,WAAWL,SANvBL,EAAQH,YACNP,EAAcW,IA4BpB,IAAMY,EAAcrB,SAASsB,eAAe,QAC5CD,EAAYhB,YAAYP,EAAcb,IAItC,IAAMsC,EAAUvB,SAASsB,eAAe,WAClCE,EAAiBxB,SAASF,cAAc,UAE9C0B,EAAeC,UAAY,OAE3BF,EAAQlB,YAAYmB,GAEpBA,EAAeE,iBAAiB,QAAS,WACvCnB,EAAcc,EAAapC,EAASA,KAGtC,IAAM0C,EAAgB3B,SAASF,cAAc,UAC7C6B,EAAcF,UAAY,MAC1BF,EAAQlB,YAAYsB,GACpBA,EAAcD,iBAAiB,QAAS,WACtCnB,EAAcc,EAAalC,EAASF,KAGtC,IAAM2C,EAAmB5B,SAASF,cAAc,UAChD8B,EAAiBH,UAAY,SAC7BF,EAAQlB,YAAYuB,GACpBA,EAAiBF,iBAAiB,QAAS,WACzCnB,EAAcc,EAAajC,EAAYD,KAGzC,IAAM0C,EAAmB7B,SAASF,cAAc,UAChD+B,EAAiBJ,UAAY,SAC7BF,EAAQlB,YAAYwB,GACpBA,EAAiBH,iBAAiB,QAAS,WACzCnB,EAAcc,EAAahC,EAAYD","file":"static/js/main.e16ffc75.chunk.js","sourcesContent":["/** @jsx h */\nconst initDOM = (\n  <div>\n    <p>Hello!</p>\n    <ul>\n      <li>How is it going?</li>\n    </ul>\n  </div>\n);\n\nconst addNode = (\n  <div>\n    <p>Hello!</p>\n    <ul>\n      <li>How is it going?</li>\n    </ul>\n    <p>Good</p>\n  </div>\n);\n\nconst removeNode = (\n  <div>\n    <p>Hello!</p>\n    <ul>\n      <li>How is it going?</li>\n    </ul>\n  </div>\n);\n\nconst changeNode = (\n  <div>\n    <p>Hi!</p>\n    <ul>\n      <li>How is it going?</li>\n    </ul>\n  </div>\n);\n\nfunction h(type, props, ...children) {\n  return { type, props, children };\n}\n\nfunction createElement(node) {\n  if (typeof node === \"string\") {\n    return document.createTextNode(node);\n  }\n  const $el = document.createElement(node.type);\n  node.children.map(createElement).forEach($el.appendChild.bind($el));\n  return $el;\n}\n\nfunction changed(node1, node2) {\n  return (typeof node1 !== typeof node2 ||\n         typeof node1 === 'string') && (node1 !== node2 ||\n         node1.type !== node2.type)\n}\n\nfunction updateElement($parent, newNode, oldNode, index = 0) {\n  if (!oldNode) {\n    $parent.appendChild(\n      createElement(newNode)\n    );\n  } else if (!newNode) {\n    if($parent.childNodes[index]){\n      $parent.removeChild(\n        $parent.childNodes[index]\n      );\n    }\n  } else if (changed(newNode, oldNode)) {\n    $parent.replaceChild(\n      createElement(newNode),\n      $parent.childNodes[index]\n    );\n  } else if (newNode.type) {\n    const newLength = newNode.children.length;\n    const oldLength = oldNode.children.length;\n    for (let i = 0; i < newLength || i < oldLength; i++) {\n      updateElement(\n        $parent.childNodes[index],\n        newNode.children[i],\n        oldNode.children[i],\n        i\n      );\n    }\n  }\n}\n\n\nconst rootElement = document.getElementById(\"root\");\nrootElement.appendChild(createElement(initDOM));\n\n\n\nconst buttons = document.getElementById(\"buttons\");\nconst initNodeButton = document.createElement(\"button\");\n\ninitNodeButton.innerText = \"Init\";\n\nbuttons.appendChild(initNodeButton);\n\ninitNodeButton.addEventListener(\"click\", () => {\n  updateElement(rootElement, initDOM, initDOM);\n});\n\nconst addNodeButton = document.createElement(\"button\");\naddNodeButton.innerText = \"Add\";\nbuttons.appendChild(addNodeButton);\naddNodeButton.addEventListener(\"click\", () => {\n  updateElement(rootElement, addNode, initDOM);\n});\n\nconst removeNodeButton = document.createElement(\"button\");\nremoveNodeButton.innerText = \"Remove\";\nbuttons.appendChild(removeNodeButton);\nremoveNodeButton.addEventListener(\"click\", () => {\n  updateElement(rootElement, removeNode, addNode);\n});\n\nconst changeNodeButton = document.createElement(\"button\");\nchangeNodeButton.innerText = \"Change\";\nbuttons.appendChild(changeNodeButton);\nchangeNodeButton.addEventListener(\"click\", () => {\n  updateElement(rootElement, changeNode, removeNode);\n});\n\n\n\n\n\n\n"],"sourceRoot":""}